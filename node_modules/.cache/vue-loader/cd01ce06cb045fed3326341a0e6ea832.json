{"remainingRequest":"D:\\frontend\\yuqing\\ycmyuqin\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\frontend\\yuqing\\ycmyuqin\\src\\page\\home.vue?vue&type=style&index=0&lang=less&","dependencies":[{"path":"D:\\frontend\\yuqing\\ycmyuqin\\src\\page\\home.vue","mtime":1622173579018},{"path":"D:\\frontend\\yuqing\\ycmyuqin\\node_modules\\@vue\\cli-service\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\frontend\\yuqing\\ycmyuqin\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\frontend\\yuqing\\ycmyuqin\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\frontend\\yuqing\\ycmyuqin\\node_modules\\less-loader\\dist\\cjs.js","mtime":1622127021457},{"path":"D:\\frontend\\yuqing\\ycmyuqin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\frontend\\yuqing\\ycmyuqin\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoJQGltcG9ydCAnLi4vc3R5bGUvbWl4aW4nOwoJLmRhdGFfc2VjdGlvbnsKCQlwYWRkaW5nOiAyMHB4OwoJCW1hcmdpbi1ib3R0b206IDQwcHg7CgkJLnNlY3Rpb25fdGl0bGV7CgkJCXRleHQtYWxpZ246IGNlbnRlcjsKCQkJZm9udC1zaXplOiAzMHB4OwoJCQltYXJnaW4tYm90dG9tOiAxMHB4OwoJCX0KCQkuZGF0YV9saXN0ewoJCQl0ZXh0LWFsaWduOiBjZW50ZXI7CgkJCWZvbnQtc2l6ZTogMTRweDsKCQkJY29sb3I6ICM2NjY7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDZweDsKICAgICAgICAgICAgYmFja2dyb3VuZDogI0U1RTlGMjsKICAgICAgICAgICAgLmRhdGFfbnVtewogICAgICAgICAgICAgICAgY29sb3I6ICMzMzM7CiAgICAgICAgICAgICAgICBmb250LXNpemU6IDI2cHg7CgogICAgICAgICAgICB9CiAgICAgICAgICAgIC5oZWFkewogICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNnB4OwogICAgICAgICAgICAgICAgZm9udC1zaXplOiAyMnB4OwogICAgICAgICAgICAgICAgcGFkZGluZzogNHB4IDA7CiAgICAgICAgICAgICAgICBjb2xvcjogI2ZmZjsKICAgICAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAudG9kYXlfaGVhZHsKICAgICAgICAgICAgYmFja2dyb3VuZDogI0ZGOTgwMDsKICAgICAgICB9CiAgICAgICAgLmFsbF9oZWFkewogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjMjBBMEZGOwogICAgICAgIH0KCX0KICAgIC53YW57CiAgICAgICAgLnNjKDE2cHgsICMzMzMpCiAgICB9Cg=="},{"version":3,"sources":["home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"home.vue","sourceRoot":"src/page","sourcesContent":["<template>\r\n\r\n\t<div>\r\n        \r\n\t\t<section class=\"data_section\">\r\n\t\t\t<header class=\"section_title\">实时热点</header>\r\n\t\t\t<el-row :gutter=\"20\" style=\"margin-bottom: 10px;\">\r\n                <el-col :span=\"6\"><div class=\"data_list today_head\"><span class=\"data_num head\">实时热点：</span></div></el-col>\r\n\t\t\t\t<el-col :span=\"6\"><div class=\"data_list\"><span class=\"data_num\">新疆棉</span> </div></el-col>\r\n\t\t\t\t<el-col :span=\"6\"><div class=\"data_list\"><span class=\"data_num\">Covid-19</span> </div></el-col>\r\n                <el-col :span=\"6\"><div class=\"data_list\"><span class=\"data_num\">冬奥会</span> </div></el-col>\r\n\t\t\t</el-row>\r\n            <el-row :gutter=\"20\">\r\n                <el-col :span=\"6\"><div class=\"data_list all_head\"><span class=\"data_num head\">新增热点：</span></div></el-col>\r\n                <el-col :span=\"6\"><div class=\"data_list\"><span class=\"data_num\">G7</span></div></el-col>\r\n                <el-col :span=\"6\"><div class=\"data_list\"><span class=\"data_num\">核污水入海</span></div></el-col>\r\n                <el-col :span=\"6\"><div class=\"data_list\"><span class=\"data_num\">印度疫情</span></div></el-col>\r\n            </el-row>\r\n\t\t</section>\r\n\t\t<tendency :sevenDate='sevenDate' :sevenDay='sevenDay'></tendency>\r\n\t\t\r\n    </div>\r\n\r\n</template>\r\n\r\n<script>\r\n\r\n\timport tendency from '../components/tendency' \r\n\timport dtime from 'time-formater'\r\n\timport {userCount, orderCount, getUserCount, getOrderCount, adminDayCount, adminCount} from '@/api/getData'\r\n\r\n    export default {\r\n    \tdata(){\r\n    \t\treturn {\r\n    \t\t\tuserCount: null,\r\n    \t\t\torderCount: null,\r\n                adminCount: null,\r\n                allUserCount: null,\r\n                allOrderCount: null,\r\n                allAdminCount: null,\r\n    \t\t\tsevenDay: [],\r\n    \t\t\tsevenDate: [[],[],[]],\r\n    \t\t}\r\n    \t},\r\n    \tcomponents: {\r\n    \t\t\r\n    \t\ttendency,\r\n\r\n\r\n    \t},\r\n    \tmounted(){\r\n    \t\tthis.initData();\r\n    \t\tfor (let i = 6; i > -1; i--) {\r\n    \t\t\tconst date = dtime(new Date().getTime() - 86400000*i).format('YYYY-MM-DD')\r\n    \t\t\tthis.sevenDay.push(date)\r\n    \t\t}\r\n    \t\tthis.getSevenData();\r\n    \t},\r\n        computed: {\r\n\r\n        },\r\n    \tmethods: {\r\n    \t\tasync initData(){\r\n    \t\t\tconst today = dtime().format('YYYY-MM-DD')\r\n    \t\t\tPromise.all([userCount(today), orderCount(today), adminDayCount(today), getUserCount(), getOrderCount(), adminCount()])\r\n    \t\t\t.then(res => {\r\n    \t\t\t\tthis.userCount = res[0].count;\r\n    \t\t\t\tthis.orderCount = res[1].count;\r\n                    this.adminCount = res[2].count;\r\n                    this.allUserCount = res[3].count;\r\n                    this.allOrderCount = res[4].count;\r\n                    this.allAdminCount = res[5].count;\r\n    \t\t\t}).catch(err => {\r\n    \t\t\t\tconsole.log(err)\r\n    \t\t\t})\r\n    \t\t},\r\n    \t\tasync getSevenData(){\r\n    \t\t\tconst apiArr = [[],[],[]];\r\n    \t\t\tthis.sevenDay.forEach(item => {\r\n    \t\t\t\tapiArr[0].push(userCount(item))\r\n    \t\t\t\tapiArr[1].push(orderCount(item))\r\n                    apiArr[2].push(adminDayCount(item))\r\n    \t\t\t})\r\n    \t\t\tconst promiseArr = [...apiArr[0], ...apiArr[1], ...apiArr[2]]\r\n    \t\t\tPromise.all(promiseArr).then(res => {\r\n    \t\t\t\tconst resArr = [[],[],[]];\r\n\t\t\t\t\tres.forEach((item, index) => {\r\n\t\t\t\t\t\tif (item.status == 1) {\r\n\t\t\t\t\t\t\tresArr[Math.floor(index/7)].push(item.count)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.sevenDate = resArr;\r\n    \t\t\t}).catch(err => {\r\n    \t\t\t\tconsole.log(err)\r\n    \t\t\t})\r\n    \t\t}\r\n    \t}\r\n    }\r\n</script>\r\n\r\n<style lang=\"less\">\r\n\t@import '../style/mixin';\r\n\t.data_section{\r\n\t\tpadding: 20px;\r\n\t\tmargin-bottom: 40px;\r\n\t\t.section_title{\r\n\t\t\ttext-align: center;\r\n\t\t\tfont-size: 30px;\r\n\t\t\tmargin-bottom: 10px;\r\n\t\t}\r\n\t\t.data_list{\r\n\t\t\ttext-align: center;\r\n\t\t\tfont-size: 14px;\r\n\t\t\tcolor: #666;\r\n            border-radius: 6px;\r\n            background: #E5E9F2;\r\n            .data_num{\r\n                color: #333;\r\n                font-size: 26px;\r\n\r\n            }\r\n            .head{\r\n                border-radius: 6px;\r\n                font-size: 22px;\r\n                padding: 4px 0;\r\n                color: #fff;\r\n                display: inline-block;\r\n            }\r\n        }\r\n        .today_head{\r\n            background: #FF9800;\r\n        }\r\n        .all_head{\r\n            background: #20A0FF;\r\n        }\r\n\t}\r\n    .wan{\r\n        .sc(16px, #333)\r\n    }\r\n</style>\r\n"]}]}